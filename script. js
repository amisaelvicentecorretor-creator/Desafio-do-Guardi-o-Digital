const storyElement = document.getElementById("story");
const buttonsElement = document.getElementById("buttons");

const storyNodes = [
  {
    text: "VocÃª Ã© um criador digital em uma missÃ£o para proteger suas obras. EstÃ¡ pronto?",
    options: [
      { text: "Sim, vamos lÃ¡!", next: 1 },
      { text: "NÃ£o, estou com medo...", next: 99 }
    ]
  },
  {
    text: "Primeira missÃ£o: VocÃª percebe que alguÃ©m copiou seu vÃ­deo. O que fazer?",
    options: [
      { text: "Enviar denÃºncia de copyright", next: 2 },
      { text: "Ignorar", next: 99 }
    ]
  },
  {
    text: "ParabÃ©ns! VocÃª agiu rÃ¡pido. Quer aprender estratÃ©gias para evitar isso no futuro?",
    options: [
      { text: "Sim, quero o guia", next: 3 },
      { text: "NÃ£o, jÃ¡ sei o bastante", next: 99 }
    ]
  },
  {
    text: "Clique no botÃ£o abaixo para acessar o Guia RÃ¡pido de Copyright para Criadores Digitais.",
    options: [
      { text: "ðŸ“• Baixar Guia", link: "https://assets.api.gamma.app/export/pdf/7u4lvo9dtamwrm8/9d031499d60595a70e636de66f49b648/Proteja-Seu-Conteudo-Guia-Rapido-de-Copyright-para-Criadores-Digitais.pdf" }
    ]
  },
  {
    text: "MissÃ£o encerrada.",
    options: []
  }
];

function startGame() {
  showNode(0);
}

function showNode(index) {
  const node = storyNodes[index];
  storyElement.innerText = node.text;
  buttonsElement.innerHTML = "";

  node.options.forEach(option => {
    const button = document.createElement("button");
    button.innerText = option.text;
    button.onclick = () => {
      if (option.link) {
        window.open(option.link, "_blank");
      } else {
        showNode(option.next);
      }
    };
    buttonsElement.appendChild(button);
  });
}

startGame();
